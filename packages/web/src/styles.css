@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Font families */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-heading: "Space Grotesk", ui-sans-serif, system-ui, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, monospace;

  /* Primary colors - Indigo */
  --color-primary-50: oklch(0.97 0.01 264);
  --color-primary-100: oklch(0.94 0.03 264);
  --color-primary-200: oklch(0.87 0.06 264);
  --color-primary-300: oklch(0.78 0.10 264);
  --color-primary-400: oklch(0.67 0.15 264);
  --color-primary-500: oklch(0.55 0.19 264);
  --color-primary-600: oklch(0.47 0.20 264);
  --color-primary-700: oklch(0.42 0.17 264);
  --color-primary-800: oklch(0.36 0.14 264);
  --color-primary-900: oklch(0.31 0.11 264);

  /* Success colors - Green */
  --color-success-50: oklch(0.98 0.02 145);
  --color-success-100: oklch(0.94 0.05 145);
  --color-success-200: oklch(0.87 0.10 145);
  --color-success-300: oklch(0.78 0.14 145);
  --color-success-400: oklch(0.68 0.17 145);
  --color-success-500: oklch(0.59 0.18 145);
  --color-success-600: oklch(0.50 0.16 145);
  --color-success-700: oklch(0.43 0.13 145);
  --color-success-800: oklch(0.37 0.10 145);
  --color-success-900: oklch(0.32 0.08 145);

  /* Warning colors - Yellow/Amber */
  --color-warning-50: oklch(0.98 0.02 85);
  --color-warning-100: oklch(0.95 0.05 85);
  --color-warning-200: oklch(0.90 0.10 85);
  --color-warning-300: oklch(0.84 0.14 85);
  --color-warning-400: oklch(0.78 0.16 85);
  --color-warning-500: oklch(0.72 0.16 85);
  --color-warning-600: oklch(0.62 0.15 85);
  --color-warning-700: oklch(0.52 0.13 85);
  --color-warning-800: oklch(0.44 0.10 85);
  --color-warning-900: oklch(0.38 0.08 85);

  /* Error colors - Red */
  --color-error-50: oklch(0.97 0.02 25);
  --color-error-100: oklch(0.94 0.05 25);
  --color-error-200: oklch(0.87 0.10 25);
  --color-error-300: oklch(0.78 0.14 25);
  --color-error-400: oklch(0.68 0.17 25);
  --color-error-500: oklch(0.59 0.20 25);
  --color-error-600: oklch(0.50 0.19 25);
  --color-error-700: oklch(0.43 0.16 25);
  --color-error-800: oklch(0.37 0.13 25);
  --color-error-900: oklch(0.32 0.10 25);

  /* Info colors - Blue */
  --color-info-50: oklch(0.97 0.01 240);
  --color-info-100: oklch(0.94 0.03 240);
  --color-info-200: oklch(0.87 0.07 240);
  --color-info-300: oklch(0.78 0.11 240);
  --color-info-400: oklch(0.67 0.15 240);
  --color-info-500: oklch(0.55 0.18 240);
  --color-info-600: oklch(0.47 0.17 240);
  --color-info-700: oklch(0.42 0.14 240);
  --color-info-800: oklch(0.36 0.11 240);
  --color-info-900: oklch(0.31 0.09 240);

  /* Surface colors - Light mode defaults */
  --color-surface-bg: oklch(0.98 0.00 0);
  --color-surface-card: oklch(1.00 0.00 0);
  --color-surface-hover: oklch(0.96 0.00 0);
  --color-surface-border: oklch(0.90 0.00 0);
  --color-surface-border-subtle: oklch(0.94 0.00 0);

  /* Text colors - Light mode defaults */
  --color-text-primary: oklch(0.15 0.00 0);
  --color-text-secondary: oklch(0.40 0.00 0);
  --color-text-muted: oklch(0.55 0.00 0);
  --color-text-inverted: oklch(1.00 0.00 0);
}

/* Dark mode overrides using CSS custom properties */
:root {
  --bg: var(--color-surface-bg);
  --card: var(--color-surface-card);
  --card-hover: var(--color-surface-hover);
  --border: var(--color-surface-border);
  --border-subtle: var(--color-surface-border-subtle);
  --text: var(--color-text-primary);
  --text-secondary: var(--color-text-secondary);
  --text-muted: var(--color-text-muted);
}

.dark {
  --bg: oklch(0.15 0.00 0);
  --card: oklch(0.20 0.00 0);
  --card-hover: oklch(0.25 0.00 0);
  --border: oklch(0.30 0.00 0);
  --border-subtle: oklch(0.25 0.00 0);
  --text: oklch(0.95 0.00 0);
  --text-secondary: oklch(0.70 0.00 0);
  --text-muted: oklch(0.55 0.00 0);
}

body {
  @apply m-0;
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: var(--font-mono);
}

/* Heading font utility */
.font-heading {
  font-family: var(--font-heading);
}

/* Apply heading font to h1-h3 by default */
h1, h2, h3 {
  font-family: var(--font-heading);
}

/* Drawer animations */
@keyframes drawer-slide-in {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes drawer-slide-out {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-100%);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.drawer-enter {
  animation: drawer-slide-in 0.3s ease-out forwards;
}

.drawer-exit {
  animation: drawer-slide-out 0.3s ease-in forwards;
}

.backdrop-enter {
  animation: fade-in 0.3s ease-out forwards;
}

.backdrop-exit {
  animation: fade-out 0.3s ease-in forwards;
}

/* Custom scrollbar for story list */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: oklch(0.70 0.00 0);
  border-radius: 3px;
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: oklch(0.40 0.00 0);
}

/* Tree view expand/collapse animation */
.tree-content {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.2s ease-out;
}

.tree-content.expanded {
  grid-template-rows: 1fr;
}

.tree-content > div {
  overflow: hidden;
}
